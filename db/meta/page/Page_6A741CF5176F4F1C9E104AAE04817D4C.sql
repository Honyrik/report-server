--liquibase formatted sql
--changeset patcher-core:Page_6A741CF5176F4F1C9E104AAE04817D4C dbms:postgresql runOnChange:true splitStatements:false stripComments:false
select pkg_patcher.p_remove_page('6A741CF5176F4F1C9E104AAE04817D4C');
delete from s_mt.t_page_attr where ck_page='6A741CF5176F4F1C9E104AAE04817D4C';
INSERT INTO s_mt.t_page (ck_id, ck_parent, cr_type, cv_name, cn_order, cl_static, cv_url, ck_icon, ck_user, ct_change, cl_menu, ck_view, cv_redirect_url, cl_multi) VALUES('6A741CF5176F4F1C9E104AAE04817D4C', '15B76089494D4F589B6B707EF0BD8B29', 2, '2cfdc4813a9e456988f4d2a01197890d', 100, 0, null, '94', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-05T18:57:31.787+0300', 1, 'system', null, 0) on conflict (ck_id) do update set ck_parent = excluded.ck_parent, cr_type = excluded.cr_type, cv_name = excluded.cv_name, cn_order = excluded.cn_order, cl_static = excluded.cl_static, cv_url = excluded.cv_url, ck_icon = excluded.ck_icon, ck_user = excluded.ck_user, ct_change = excluded.ct_change, cl_menu = excluded.cl_menu, ck_view = excluded.ck_view, cl_multi = excluded.cl_multi, cv_redirect_url = excluded.cv_redirect_url;
select pkg_patcher.p_merge_page_action('76E811341F3241ACA5AE152752F494E8', '6A741CF5176F4F1C9E104AAE04817D4C', 'edit', 20001, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:21.778+0300');
select pkg_patcher.p_merge_page_action('C3A09FDB08B74321A37656FDC2EDC8B8', '6A741CF5176F4F1C9E104AAE04817D4C', 'view', 20000, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:21.778+0300');
select pkg_patcher.p_merge_object('1ED79A35662D4828A329F9FC1AF65E26', '8', null, 'JAVA ESSENCE REPORT Global setting', 3000000, 'ERJGetGlobalSetting', 'Настройки отчетного сервера', null, '
v = {
    method: {I:"PUT",U:"PATCH",D:"DELETE"}[jt_in_param.json.service.cv_action],
    url: `${jt_provider_params.defaultGateUrl}/admin/dictionary/DGlobalSetting?session=${jt_in_param.sess_session}`,
    json: jt_in_param.json.data,
    resultParse: "jt_result.success?jt_result:{jt_message:jt_result.message}",
}', 'er_api', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:54:50.147+0300');
select pkg_patcher.p_merge_object('A8BA1AA4F5EE46EF87BED69F74520107', '16', '1ED79A35662D4828A329F9FC1AF65E26', 'edit', 5, null, 'Edit btn', null, null, null, '-1', '2024-09-04T13:24:08.593+0300');
select pkg_patcher.p_merge_object('51818132039A40CC9661675E270BEA57', '9', '1ED79A35662D4828A329F9FC1AF65E26', 'ckId', 10, null, 'Наименование', 'e0cd88534f90436da2b3b5eeae0ae340', null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:52:11.684+0300');
select pkg_patcher.p_merge_object('F2921CB63FCC48F193A4D0C8E199689F', '9', '1ED79A35662D4828A329F9FC1AF65E26', 'cvValue', 20, null, 'Значение', '22bf1c823d4545c6b2c10efb1e1b3a61', null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:52:18.572+0300');
select pkg_patcher.p_merge_object('D2059FB8C24C48D7912077C94D68B543', '9', '1ED79A35662D4828A329F9FC1AF65E26', 'cvDescription', 30, null, 'Описание', 'd1dd81f5338c4d85a5ffb32a0d7aab69', null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:52:25.583+0300');
select pkg_patcher.p_merge_object('501EB21655F845FBB51B29EBF69D715A', '19', '1ED79A35662D4828A329F9FC1AF65E26', 'add btn', 100, null, 'Добавление', '6d12c16cd7fa46579477a107a53f0790', null, null, '-1', '2024-09-04T13:24:08.593+0300');
select pkg_patcher.p_merge_object('66FEFD7DD49940718E5E377FEA94D7C8', '8AE3079CC4F64CB9873777921A62CF14', '1ED79A35662D4828A329F9FC1AF65E26', 'audit', 200, null, 'audit', null, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T17:39:47.757+0300');
select pkg_patcher.p_merge_object_attr('1B7D9DC7E7854CA39DDCCAF22717D8E7', '1ED79A35662D4828A329F9FC1AF65E26', '03FFC6D5E3B942F088207B303A682156', '[{"property": "ckId", "direction": "ASC"}]', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:50:30.864+0300', 'order');
select pkg_patcher.p_merge_object_attr('57CDFE77F97342AFAF06D53FB00D39FF', '1ED79A35662D4828A329F9FC1AF65E26', '1753', 'ckId', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:50:07.113+0300', 'autoselectidentity');
select pkg_patcher.p_merge_object_attr('4F38C78D126E47408C672D80F3E61CC9', '1ED79A35662D4828A329F9FC1AF65E26', 'F49A87AF3E134494AE94932D709FA2F2', 'ckId', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:50:19.579+0300', 'idproperty');
select pkg_patcher.p_merge_object_attr('521A53F753244477A15F0780A8FAF1C3', '51818132039A40CC9661675E270BEA57', '433', 'insert', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T18:04:54.751+0300', 'editmode');
select pkg_patcher.p_merge_object_attr('E21B30007AEA43018C799B190C037847', '51818132039A40CC9661675E270BEA57', '453', 'true', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T18:04:24.879+0300', 'required');
select pkg_patcher.p_merge_object_attr('606C228E05604266904CE91DAFA36F74', '51818132039A40CC9661675E270BEA57', '47', 'ckId', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:50:45.624+0300', 'column');
select pkg_patcher.p_merge_object_attr('DB7B76DABF9240E18E72630C00A99772', '51818132039A40CC9661675E270BEA57', '662', '255', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T18:04:48.411+0300', 'maxsize');
select pkg_patcher.p_merge_object_attr('24425306164D4BF3B9EDE9B2BD8748C8', 'F2921CB63FCC48F193A4D0C8E199689F', '47', 'cvValue', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:50:56.503+0300', 'column');
select pkg_patcher.p_merge_object_attr('68C14AE6846C47E6A088CBD2A0C7D46C', 'D2059FB8C24C48D7912077C94D68B543', '47', 'cvDescription', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:51:09.129+0300', 'column');
select pkg_patcher.p_merge_object_attr('CAD9252458E24208A494DDFEDBC558FE', '501EB21655F845FBB51B29EBF69D715A', '155', '1', '-1', '2024-09-04T13:24:08.593+0300', 'mode');
select pkg_patcher.p_merge_object_attr('A7C80D988C2244518E4311300654E279', '501EB21655F845FBB51B29EBF69D715A', '992', 'fa-plus', '-1', '2024-09-04T13:24:08.593+0300', 'iconfont');
select pkg_patcher.p_merge_object_attr('112A9E6A387147DCBE6EE8A68AB487D2', '66FEFD7DD49940718E5E377FEA94D7C8', '0B9D26EF586E4BC2A2EA4EE21B226776', '[{"in": "ctChange", "out": "change"}, {"in": "ckUser", "out": "user"}]', '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T17:40:18.963+0300', 'valuefield');
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('BAAB304524024230AA7C0D963583BF6C', '6A741CF5176F4F1C9E104AAE04817D4C', '1ED79A35662D4828A329F9FC1AF65E26', 10, null, null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:49.115+0300')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('A3BA55683D3F4F2EB3EA525C8197F8D3', '6A741CF5176F4F1C9E104AAE04817D4C', 'A8BA1AA4F5EE46EF87BED69F74520107', 5, 'BAAB304524024230AA7C0D963583BF6C', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:49.115+0300')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('ACE83F971587474DB127D0A985612500', '6A741CF5176F4F1C9E104AAE04817D4C', '51818132039A40CC9661675E270BEA57', 10, 'BAAB304524024230AA7C0D963583BF6C', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:49.115+0300')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('0C4E2CA025CD486BAB597D9B50AF3487', '6A741CF5176F4F1C9E104AAE04817D4C', 'F2921CB63FCC48F193A4D0C8E199689F', 20, 'BAAB304524024230AA7C0D963583BF6C', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:49.115+0300')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('A39E2F02355F444BB1D38FD601384BF7', '6A741CF5176F4F1C9E104AAE04817D4C', 'D2059FB8C24C48D7912077C94D68B543', 30, 'BAAB304524024230AA7C0D963583BF6C', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:49.115+0300')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('45E0BA2B2D7C4DBEAC0538DCD7172F1B', '6A741CF5176F4F1C9E104AAE04817D4C', '501EB21655F845FBB51B29EBF69D715A', 100, 'BAAB304524024230AA7C0D963583BF6C', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:49.115+0300')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_page_object (ck_id, ck_page, ck_object, cn_order, ck_parent, ck_master, ck_user, ct_change) VALUES ('B78BA638A6EC49EEAEE52761B45F2173', '6A741CF5176F4F1C9E104AAE04817D4C', '66FEFD7DD49940718E5E377FEA94D7C8', 200, 'BAAB304524024230AA7C0D963583BF6C', null, '4fd05ca9-3a9e-4d66-82df-886dfa082113', '2024-09-04T13:49:49.115+0300')  on conflict (ck_id) do update set ck_page = excluded.ck_page, ck_object = excluded.ck_object, cn_order = excluded.cn_order, ck_parent = excluded.ck_parent, ck_master = excluded.ck_master, ck_user = excluded.ck_user, ct_change = excluded.ct_change;
INSERT INTO s_mt.t_localization (ck_id, ck_d_lang, cr_namespace, cv_value, ck_user, ct_change)
select t.ck_id, t.ck_d_lang, t.cr_namespace, t.cv_value, t.ck_user, t.ct_change::timestamp from (
    select '22bf1c823d4545c6b2c10efb1e1b3a61' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'Значение' as cv_value, '-11' as ck_user, '2019-12-08T18:00:00.000+0300' as ct_change
    union all
    select '2cfdc4813a9e456988f4d2a01197890d' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'Основные настройки' as cv_value, '4fd05ca9-3a9e-4d66-82df-886dfa082113' as ck_user, '2020-10-29T05:04:12.305+0300' as ct_change
    union all
    select '6d12c16cd7fa46579477a107a53f0790' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'Создать' as cv_value, '4fd05ca9-3a9e-4d66-82df-886dfa082113' as ck_user, '2019-12-02T12:00:00.000+0300' as ct_change
    union all
    select 'd0ad23ef13f8493e996cfca8a98d0721' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'Редактировать значение' as cv_value, '-11' as ck_user, '2019-12-10T03:00:00.000+0300' as ct_change
    union all
    select 'd1dd81f5338c4d85a5ffb32a0d7aab69' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'Описание' as cv_value, '4fd05ca9-3a9e-4d66-82df-886dfa082113' as ck_user, '2019-12-26T00:00:00.000+0300' as ct_change
    union all
    select 'e0cd88534f90436da2b3b5eeae0ae340' as ck_id, 'ru_RU' as ck_d_lang, 'meta' as cr_namespace, 'Наименование' as cv_value, '4fd05ca9-3a9e-4d66-82df-886dfa082113' as ck_user, '2019-12-26T03:00:00.000+0300' as ct_change
) as t 
 join s_mt.t_d_lang dl
 on t.ck_d_lang = dl.ck_id
on conflict on constraint cin_u_localization_1 do update set ck_id = excluded.ck_id, ck_d_lang = excluded.ck_d_lang, cr_namespace = excluded.cr_namespace, cv_value = excluded.cv_value, ck_user = excluded.ck_user, ct_change = excluded.ct_change;